# Operating System
- Operating System is a collection of software that manages computer hardware resources
    - Exploits the hardware resources of one or more processors
    - Provides a set of services to system users
    - Manages secondary memory and I/O devices

# What's an Operating System?
- Operating System (OS)
    - Definition has changed over the years
    - Interface between the user and the architecture
    - Implements a "virtual machine" that is
    - (Hopefully) easier to program than raw hardware
- OS is resource allocator
    - Manages all resources
    - Decides between conflicting requests for efficient and fair resource use
- OS is a control program
    - Controls execution of programs to prevent errors and improper use of the computer

# A typical PC computer system
- CPU, Disk, Mouse, Keyboard, Printer, Monitor, Disk Controller, USB Controller, Graphics Adapter, Memory

# System Bus
- Provides for communication among processors, main memory, and I/O modules

# Processor
- Controls the operation of the computer
- Performs the data processing functions
- Referred to as the Central Processing Unit (CPU)

# Main Memory
- Stores data and programs
- Typically, volatile
    - Contents of the memory is lost when the computer is shut down
- Referred to as real memory or primary memory

# Types of Memory
- Memory - Any device which can store information temporarily or permanently
    - Registers - Temporary memory which the CPU can use for instruction operands
    - Cache - Memory close to the CPU that mirrors values from RAM
    - RAM - Temporary memory, often off the CPU, which allows access at any point without seeking
    - ROM - Permanent Memory, often used to contain the instruction sot boot a machine

# Microprocessor
- Invention that brought desktop and handheld computing
- Contains a processor on a single chip
- Fastest general purpose processors

# Graphical Processing Unit
- Provide efficient computation on arrays of data using Single-Instruction Multiple Data (SIMD) techniques pioneered in supercomputers
- Used in:
    - Graphics
    - Machine Learning
    - Numerical Processing

# Digital Signal Processor (DSPs)
- Deal with streaming signals such as audio or video
- Encoding/decoding speech and video (codecs)
- Provide support for encrypting and security
- Used to be embedded in I/O devices like modems
    - Are now becoming first-class computational devices, especially in handhelds
    - Evolved into DSP

# Instruction Register (IR)
- Fetched instruction is loaded into IR
    - Processor interprets the instruction and performs required action:
        - Processor-memory
        - Processor I/O
        - Data Processing

# Interrupt
- Mechanism by which other modules may interrupt the normal sequencing of the processor virtually
- Provided to improve processor utilization
    - Most I/O devices are slower than the processor
    - Processor must pause to wait for device
    - Wasteful use of the processor
- Hard to create a new interrupt signal
- CPU checks whether there is an interrupt at every cycle
- If an interrupt is pending, the processor automatically jumps to the corresponding interrupt handler code

# Four different classes / reasons of interrupts
- Program - Generated by some condition that occurs as a result of an instruction execution, such as arithmetic overflow, division by zero, attempt to execute an illegal machine instruction, and reference outside a user's allowed memory space
- Timer - Generated by a timer within the processor. This allows the operating system to perform certain function on a regular basis
- I/O - Generated by an I/O controller, to signal normal completion of an operation or to signal a variety of error conditions
- Hardware failure - Generated by a failure such as power failure or memory parity error

# Multiple Interrupts
- An interrupt occurs while another interrupt is being processed
- Two Approaches:
    - Disable interrupts while an interrupt is being processed
    - Use a priority scheme

# Memory Hierarchy
- If the capacity is there, applications will likely be developed to use it
- Memory must be able to keep up with the processor
- Cost of memory must be reasonable in relationship to the other components

# Cache Memory
- Invisible to the OS
- Interacts with other memory management hardware
- Processor must access memory at least once per instruction cycle
- Processor execution is limited by memory cycle time
- Exploit the principle of locality with a small, fast memory

# Replacement Algorithm
- Chooses which block to replace when a new block is to be loaded into the cache
- Least Recently Used (LRU) Algorithm
    - Effective strategy is to replace a block that has been in the cache the longest with no references to it
    - Hardware mechanisms are needed to identify the least recently used block

# I/O Techniques
- When the processor encounters an instruction relating to I/O, it executes that instruction by issuing a command to the appropriate I/O module

# Programmed I/O
- The I/O module performs the requested actions then sets the appropriate bits in the I/O status register
- The processor periodically checks the status of the I/O module until it determines the instruction is complete
- With programmed I/O the performance level of the entire system is severely degraded
- Busy-waiting or polling

# Direct Memory Access
- Performed by a separate module on the system bus or incorporate into an I/O module
- When the processor wishes to read or write data it issues a command to the DMA module containing:
    - Whether a read or write is requested
    - The address of the I/O device involved
    - The starting location in memory to read/write
    - The number of words to be read/written
- Transfers the entire block of data directly to and from without going through the processor
    - Processor is involved only at the beginning and end of the transfer
    - Processor executes more slowly during a transfer when processor access to the bus is required
- More efficient than interrupt-driven or programmed I/O
